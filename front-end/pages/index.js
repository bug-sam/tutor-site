import { useState, useEffect } from "react";
import Head from 'next/head'
import Link from 'next/link'

export default function Home() {
  const [user, setUser] = useState(null);

  useEffect(() => {
    setUser(localStorage.getItem('user'));
  }, [])


  const nonLoggedIn = (
    <>
      <h2>
        Welcome to FindMyTutor!
      </h2>
      <p>
        On this site you can create tutor requests to get help on subjects you are struggling with.
        You can also browse the list of open requests and apply to become a tutor for someone else.
      </p>
      <p>
        <Link href="/login"><a>Login </a></Link>
        or
        <Link href="/create_account"><a> create an account </a></Link>
        to get started.
      </p>
    </>
  )

  const loggedIn = (
    <>
      <h2>
        Welcome back to tutor site, {user}!
      </h2>
      <p>
        You can check out the tutor reqests 
        <Link href="/tutor_requests"><a> here</a></Link>
        !
      </p>
    </>
  )

  return (
    <div>
      <Head>
        <title>Tutor Site</title>
        <meta name="description" content="Originally generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      {user ? loggedIn : nonLoggedIn}
    </div>
  )
}
